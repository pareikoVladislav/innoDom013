<!-- TOC -->
* [**Client & Server, HTTP, DNS**](#client--server-http-dns)
* [**DNS**](#dns)
* [**IP**](#ip)
* [**IPv4**](#ipv4-)
* [**IPv6**](#ipv6-)
* [**OSI**](#osi)
* [**HTTP**](#http)
* [**CORS**](#cors-)
* [**Tokens**](#tokens)
  * [**Authentication Authorisation**](#authentication-authorisation-)
  * [**Sessions**](#sessions-)
* [**CSRF**](#csrf-)
* [**JWT**](#jwt-)
  * [**Аутентификация с использованием JWT**](#аутентификация-с-использованием-jwt-)
* [**Microservices and monoliths**](#microservices-and-monoliths)
  * [**monoliths**](#monoliths-)
  * [**Microservices**](#microservices-)
<!-- TOC -->

# **Client & Server, HTTP, DNS**

Есть такая штука на ПК (и много где ещё), как **процесс** (выполнение чего-то)                                           

По научному, процесс - это экземпляр программы. Так же как и в питоне у нас                                         
есть классы и их экземпляры, так и тут у нас есть экземпляры программ, процессы.                                        

Процессы между собой не умеют общаться. Допустим вы открываете приложение для обработки                                         
видео, и приложение для просмотра видео. Вы не сможете передать что-то из первого                                       
приложения во второе.                                                     

Это проблема процессов. Процессы изолированы друг от друга и не умеют общаться друг с                                    
другом.                                                        

В целом выделить можно два способа передачи информации между процессами:                                                
* Сохранить на жёсткий диск одним процессом, прочитать другим процессом. (больше                                        
проблем, чем преимуществ)                                                     
* Занять какой-то порт.                                                     

**Порт** - нейкий интерфейс, через который процессы могут общаться между собой и передавать                                  
информацию.                                              
Один процесс может занять порт (порт принимающего процесса всегда указывается). Такой                                       
процесс, который занимает порт и начинает его "слушать" называется - **сервер**                                             

Тот процесс, который отсылает информацию на этот сервер, называется **клиентом**.                                        
**Клиент** так же занимает порт, но это не какой-то специальный порт уже, а просто любой                                   
свободный.                                                           

Получается, что наши процессы могут передавать информацию друг между                                                
другом при помощи портов.  Процесс-сервер постоянно, в цикле сидит и слушает порт,                                              
может там пришло ему чего. А процесс-клиент эти данные отсылает на указанный порт.                                       
Данные же пересылаются посредством байтов (10010111010010)                                           

Преимущество такого подхода в том, что по факту нам не обязательно, чтобы оба этих                                      
процесса находились на одной машине. Главное - чтобы они знали адрес компьютера друг                                      
друга внутри их сети.

**Сеть** - простым языком это соединение интерфейсов разных компьютеров между собой.                                           
Информация в ней передаётся от порта к порту, при этом если мы знаем куда нужно                                         
что-то отправить, то мы можем отправлять данные не только на своём компьютере, но                                            
и на разных компьютерах.                                                              

Система становится сложнее, когда добавляется новое устройство. У нас добавляется новый игрок,                                   
который будет следить за тем, что и кому передать - маршрутиризатор(роутер\модем).                                                                  

Когда мы к модему подключаем какой-то компьютер, модем выдаёт этому компьютеру адрес                                              
Если подключение идёт в одной сети, просто у себя же дома к своему же компухтеру, то                                          
все адреса всех ПК у нас будут начинаться с `192.168._._` такой адрес называется **внутренним**                                           

У всех ПК таким образом будет свой персональный адрес. Когда мы делаем запрос с одного                                       
из ПК, то как только наш модем увидит то самое первичное совпадение по адресу `192.168._._`                                          
то поймёт, что искать нужно будет именно в локальном кругу.                                             

Так же, помимо адреса, мы прописываем и порт, какому процессу необходимо отдать наши данные.                                        

Как у наших компьютеров есть `внутренний IP` адресс, так и у роутеров есть свой                                              
`внешний IP адресс`.

Так же, как и соединение через провода, работает и `wi-fi`. По факту это всё ещё                                          
соединение на **физическом уровне**.                                                                     

Когда мы, допустим, с одного компьютера на западе отправляем что-то                                          
на другой компьютер, который у нас находится, допустим, на востоке - модем принимающего                                  
компьютера будет понимать, что если вдруг придёт снаружи запрос к порту, допустим, 8000                                           
то нужно будет отправить пакет данных на внутренний адрес, где задействован порт 8000.                                    


# **DNS**

Итак, как мы уже немного поняли как примерно работает общение между разными                                              
устройствами. Как же будет что отрабатывать, когда мы, собственно, делаем запрос                                              
на какой-то сайт? Допустим на google нам нужно. Как интернет понимает, что при                                             
вводе в поисковую строку слова google мы хотим получить именно google??                                                 

Чтобы найти нужный нам **сайт**, нам нужен его **адрес**. В мире Интернета,                                                     
адресом является `IP-адрес` – **уникальная последовательность чисел**,                                                    
например, `192.0.2.1`. Но запоминать числовые адреса для каждого сайта было                                                     
бы сложно, поэтому была создана система `DNS`.                                                                                


`DNS` – это по сути **телефонная книга** Интернета. Она переводит запоминающиеся имена                                               
доменов, такие как `www.google.com`, в числовые `IP-адреса`, которые необходимы                                              
для того, чтобы браузер мог загрузить веб-страницу.                                                 


**Принцип работы DNS**                                                 

Когда вы **вводите адрес** веб-сайта в браузер, он **отправляет запрос** к `DNS`-серверу.                                                 
`DNS`-сервер **ищет соответствующий IP-адрес** для запрошенного имени домена.                                                  
Как только `IP`-адрес найден, ваш браузер **использует его для доступа** к                                                  
серверу веб-сайта и загрузки страницы.                                                 


---

**Виды Доменов**                                                       

* `Top-Level Domains` (`TLDs`): Это самый высокий уровень в иерархии доменных                                                        
имен, например `.com`, `.org`, `.net`.                                                       
* `Second-Level Domains`: Это имена, которые вы обычно запоминаете, как                                                        
`google` в `google.com`.                                                       
* `Subdomains`: Это дополнительные уровни, используемые для организации                                                        
различных частей сайта, например `maps.google.com`.                                                       

Без `DNS` нам пришлось бы запоминать сложные числовые адреса каждого веб-сайта.                                                        
Это было бы не только неудобно, но и почти невозможно для большинства                                                        
пользователей. `DNS` делает Интернет более доступным и удобным, позволяя нам                                                        
использовать простые и запоминающиеся имена для поиска веб-сайтов.                                                       

---

# **IP**

Для полноты картины давайте немного поговорим о том, что такое                                                
`IP-адреса` и чем отличаются их версии.                                                

`IP-адрес` – это **уникальный идентификатор**, присваиваемый **каждому** устройству,                                                
подключенному к Интернету. Он работает похоже на почтовый адрес: чтобы                                                 
данные могли достичь правильного места назначения в огромной сети                                                 
Интернет, каждому устройству нужен свой собственный, **уникальный адрес**.                                                

`Internet Protocol (IP)` – это набор правил, определяющих, как данные                                                 
передаются через Интернет.
Существуют разные версии `IP`, самые распространенные – это `IPv4` и `IPv6`.                                                

---

# **IPv4**                                                

`IPv4` адреса состоят из **четырех чисел**, разделенных точками,                                                 
например, `192.0.2.1`.                                                

Каждое такое число может быть в пределах от 1 до 999 включительно.                                                               
Один из основных **недостатков** `IPv4` – ограниченное количество                                                
уникальных адресов. Всего доступно около `4.3 миллиарда адресов`, что                                                 
с учетом **растущего числа** устройств в Интернете становится **недостаточным**.                                                


# **IPv6**                                                

`IPv6` был разработан для решения **проблемы нехватки адресов**.                                                 
Эти адреса намного длиннее и представляют собой **шестнадцатеричные** числа,                                                
разделенные двоеточиями, например, `2001:0db8:85a3:0000:0000:8a2e:0370:7334`.                                                

**Основное преимущество** `IPv6` заключается в **количестве**                                                
уникальных адресов – оно практически неограниченно по сравнению с `IPv4`,                                                 
обеспечивая практически неисчерпаемый запас адресов для будущего роста                                                 
Интернета.                                                

Переход с `IPv4` на `IPv6` происходит **постепенно**, так как требует **значительных**                                                
изменений в инфраструктуре Интернета. Многие устройства и сервисы                                                 
уже поддерживают `IPv6`, но **полный переход займет время**.                                                


---

# **OSI**

**Протоколы передачи данных**                                                   

Все различные системы передачи данных, что мы рассмотрели (провода, wi-fi и др.)                                          
способны передавать по факту только 0 и 1, и всё на этом. У них есть своя частота                                             
(чем чаще передаются, тем чаще частота.)                                                        


В замисимости от того, на сколько сложная и запутанная структура может быть передана                                          
в наших 0 и 1 (байтах), у нас может быть семь различных уровней передачи                                                
данных.                                                    

1) **Физический уровень** занимается передачей сырых данных через                                                            
физические средства, например, кабели, оптоволокно, радиоволны.
Это как передача световых сигналов через оптоволокно или электрические                                                  
сигналы через медные провода.                                                              
2) **Канальный Уровень** На этом уровне происходит формирование данных для                                                  
передачи через физические средства и обнаружение ошибок, которые могли                                                    
возникнуть на физическом уровне.                                                                      
3) **Сетевой Уровень** как почтовая служба, которая определяет маршрут                                                 
доставки пакетов данных. Здесь решается, по какому пути данные                                                  
отправятся от источника к получателю.                                                              
Это как когда почтовый работник решает, через какие города и страны                                                      
отправить ваше письмо, каб дошло шустрее.                                                                            
4) **Транспортный Уровень** Здесь данные готовятся к передаче между                                                          
системами. Этот уровень обеспечивает правильное разделение данных на                                                        
части для отправки и сборку их в целое у получателя.                                                                       
   * **TCP (Transmission Control Protocol)**                                                

    `TCP` – это как отправка важного письма с уведомлением о доставке.                                                 
    Он гарантирует, что все пакеты данных дошли до адресата и в правильном порядке.                                                
    Перед отправкой данных `TCP` устанавливает соединение между отправителем                                                
    и получателем. Это называется "трехсторонним рукопожатием".                                                
    `TCP` идеально подходит для случаев, когда важна **точность данных**,                                                
    например, при загрузке веб-страницы или отправке электронной почты.                                                

   * **UDP (User Datagram Protocol)**                                                

    В отличие от `TCP`, `UDP` похож на отправку серии открыток без уведомления                                                 
    о доставке. Он быстр и прост, но не гарантирует доставку всех пакетов данных.                                                
    `UDP` не устанавливает соединение перед отправкой данных, что ускоряет                                                
    процесс передачи.                                                
    
    `UDP` часто используется в приложениях, где **скорость важнее точности**,                                                 
    например, в **видео** и **аудиостриминге**, **онлайн-играх**. 

5) **Сеансовый Уровень** На этом уровне устанавливаются, поддерживаются                                                  
и завершаются сеансы связи между приложениями. Это как организация встречи                                               
между двумя людьми.                                                        

6) **Уровень Представления** Этот уровень переводит данные в формат, который                                          
понимает приложение. Можно сравнить с переводчиком, который переводит язык                                              
одного человека на язык другого.                                                                      
7) **Прикладной Уровень** Самый высокий из уровней проктоколов передачи                                                 
данных. Это уровень, с которым непосредственно взаимодействуют пользователи.                                           
Здесь находятся все приложения и программы, через которые вы получаете                                                
доступ к данным.                                                        
